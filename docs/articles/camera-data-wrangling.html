<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-CA">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Camera data wrangling • wildrtrax</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Camera data wrangling">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">wildrtrax</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/apis.html">WildTrax APIs: Authentication, Endpoints, and Usage</a></li>
    <li><a class="dropdown-item" href="../articles/audio-data-concepts.html">Audio data concepts</a></li>
    <li><a class="dropdown-item" href="../articles/acoustic-pre-processing.html">Acoustic pre-processing</a></li>
    <li><a class="dropdown-item" href="../articles/acoustic-data-wrangling.html">Acoustic data wrangling</a></li>
    <li><a class="dropdown-item" href="../articles/classifiers-tutorial.html">Acoustic classifiers</a></li>
    <li><a class="dropdown-item" href="../articles/camera-data-wrangling.html">Camera data wrangling</a></li>
    <li><a class="dropdown-item" href="../articles/tutorials.html">Tutorials</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.5.0</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.4.0</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.3.3</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.3.2</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.3.1</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.3.0</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.2.0</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.1.0</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.0.1</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 1.0.0</h6></li>
    <li><h6 class="dropdown-header" data-toc-skip>wildrtrax 0.1.0</h6></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Camera data wrangling</h1>
            
      

      <div class="d-none name"><code>camera-data-wrangling.Rmd</code></div>
    </div>

    
    
<p>The use of camera traps in ecological studies has become increasingly
popular for monitoring wildlife. Managing and analyzing camera trap data
efficiently is important for extracting meaningful and accurate
insights. In this vignette, we will explore how to perform camera data
wrangling, specifically focusing on the ABMI’s <a href="https://portal.wildtrax.ca/home/camera-deployments.html?sensorId=CAM&amp;projectId=205" class="external-link">Ecosystem
Health 2014 data set</a>.</p>
<p>Use the <code><a href="../reference/wt_download_report.html">wt_download_report()</a></code> function to retrieve the
main report for the CAM sensor in the Ecosystem Health 2014 project:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eh14_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wt_download_report.html">wt_download_report</a></span><span class="op">(</span></span>
<span>  project_id <span class="op">=</span> <span class="fl">205</span>, </span>
<span>  sensor_id <span class="op">=</span> <span class="st">"CAM"</span>,</span>
<span>  report <span class="op">=</span> <span class="st">"main"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">eh14_raw</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   project_id location location_id latitude longitude location_buffer_m</span></span>
<span><span class="co">## 1        205   509-NW       47752  56.6338 -111.7007              5500</span></span>
<span><span class="co">## 2        205   509-NW       47752  56.6338 -111.7007              5500</span></span>
<span><span class="co">## 3        205   509-NW       47752  56.6338 -111.7007              5500</span></span>
<span><span class="co">## 4        205   509-NW       47752  56.6338 -111.7007              5500</span></span>
<span><span class="co">## 5        205   509-NW       47752  56.6338 -111.7007              5500</span></span>
<span><span class="co">## 6        205   509-NW       47752  56.6338 -111.7007              5500</span></span>
<span><span class="co">##   equipment_serial image_id     image_date_time image_set_id image_fov</span></span>
<span><span class="co">## 1   P900HF12171487  5584838 2014-03-24 14:05:41         1344      &lt;NA&gt;</span></span>
<span><span class="co">## 2   P900HF12171487  5584839 2014-03-24 14:05:43         1344      &lt;NA&gt;</span></span>
<span><span class="co">## 3   P900HF12171487 15413607 2014-03-24 14:05:45         1344      &lt;NA&gt;</span></span>
<span><span class="co">## 4   P900HF12171487 15413608 2014-03-24 14:05:46         1344      &lt;NA&gt;</span></span>
<span><span class="co">## 5   P900HF12171487 15413500 2014-03-24 14:05:47         1344      &lt;NA&gt;</span></span>
<span><span class="co">## 6   P900HF12171487 15413561 2014-03-24 14:05:50         1344      &lt;NA&gt;</span></span>
<span><span class="co">##   image_snow image_snow_depth_m image_water_depth_m species_scientific_name</span></span>
<span><span class="co">## 1         NA                 NA                  NA                    &lt;NA&gt;</span></span>
<span><span class="co">## 2         NA                 NA                  NA                    &lt;NA&gt;</span></span>
<span><span class="co">## 3         NA                 NA                  NA                    &lt;NA&gt;</span></span>
<span><span class="co">## 4         NA                 NA                  NA                    &lt;NA&gt;</span></span>
<span><span class="co">## 5         NA                 NA                  NA                    &lt;NA&gt;</span></span>
<span><span class="co">## 6         NA                 NA                  NA                    &lt;NA&gt;</span></span>
<span><span class="co">##   species_common_name individual_count age_class sex_class behaviours</span></span>
<span><span class="co">## 1         STAFF/SETUP              VNA       VNA       VNA       &lt;NA&gt;</span></span>
<span><span class="co">## 2         STAFF/SETUP              VNA       VNA       VNA       &lt;NA&gt;</span></span>
<span><span class="co">## 3         STAFF/SETUP              VNA       VNA       VNA       &lt;NA&gt;</span></span>
<span><span class="co">## 4         STAFF/SETUP              VNA       VNA       VNA       &lt;NA&gt;</span></span>
<span><span class="co">## 5         STAFF/SETUP              VNA       VNA       VNA       &lt;NA&gt;</span></span>
<span><span class="co">## 6         STAFF/SETUP              VNA       VNA       VNA       &lt;NA&gt;</span></span>
<span><span class="co">##   health_diseases coat_colours coat_attributes tine_attributes direction_travel</span></span>
<span><span class="co">## 1            &lt;NA&gt;         &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt;             &lt;NA&gt;</span></span>
<span><span class="co">## 2            &lt;NA&gt;         &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt;             &lt;NA&gt;</span></span>
<span><span class="co">## 3            &lt;NA&gt;         &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt;             &lt;NA&gt;</span></span>
<span><span class="co">## 4            &lt;NA&gt;         &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt;             &lt;NA&gt;</span></span>
<span><span class="co">## 5            &lt;NA&gt;         &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt;             &lt;NA&gt;</span></span>
<span><span class="co">## 6            &lt;NA&gt;         &lt;NA&gt;            &lt;NA&gt;            &lt;NA&gt;             &lt;NA&gt;</span></span>
<span><span class="co">##   has_collar has_eartag  ihf      observer observer_id tag_comments</span></span>
<span><span class="co">## 1         NA         NA &lt;NA&gt; Kate Broadley         245         &lt;NA&gt;</span></span>
<span><span class="co">## 2         NA         NA &lt;NA&gt; Kate Broadley         245         &lt;NA&gt;</span></span>
<span><span class="co">## 3         NA         NA &lt;NA&gt; Kate Broadley         245         &lt;NA&gt;</span></span>
<span><span class="co">## 4         NA         NA &lt;NA&gt; Kate Broadley         245         &lt;NA&gt;</span></span>
<span><span class="co">## 5         NA         NA &lt;NA&gt; Kate Broadley         245         &lt;NA&gt;</span></span>
<span><span class="co">## 6         NA         NA &lt;NA&gt; Kate Broadley         245         &lt;NA&gt;</span></span>
<span><span class="co">##   tag_needs_review tag_is_verified image_in_wildtrax  tag_id</span></span>
<span><span class="co">## 1            FALSE           FALSE              TRUE 3368979</span></span>
<span><span class="co">## 2            FALSE           FALSE              TRUE 3368980</span></span>
<span><span class="co">## 3            FALSE           FALSE              TRUE 9246962</span></span>
<span><span class="co">## 4            FALSE           FALSE              TRUE 9246963</span></span>
<span><span class="co">## 5            FALSE           FALSE              TRUE 9246918</span></span>
<span><span class="co">## 6            FALSE           FALSE              TRUE 9246946</span></span></code></pre>
<p>Evaluate <strong>independent detections</strong> with
<code><a href="../reference/wt_ind_detect.html">wt_ind_detect()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Back to the Ecosystem Health 2014 data.</span></span>
<span></span>
<span><span class="va">eh14_detections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wt_ind_detect.html">wt_ind_detect</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">eh14_raw</span>, </span>
<span>  threshold <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"minutes"</span>,</span>
<span>  remove_human <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  remove_domestic <span class="op">=</span> <span class="cn">TRUE</span> </span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">eh14_detections</span>, width <span class="op">=</span> <span class="fl">75</span><span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">##                        detection project_id location</span></span>
<span><span class="co">## 1                Snowshoe Hare 1        205   509-NW</span></span>
<span><span class="co">## 2            White-tailed Deer 1        205   509-NW</span></span>
<span><span class="co">## 3                   Black Bear 1        205   509-SW</span></span>
<span><span class="co">## 4                  Canada Lynx 1        205   509-SW</span></span>
<span><span class="co">## 5                    Gray Wolf 1        205   509-SW</span></span>
<span><span class="co">## 6 Grouse, Ptarmigan and allies 1        205   509-SW</span></span>
<span><span class="co">##            species_common_name          start_time            end_time</span></span>
<span><span class="co">## 1                Snowshoe Hare 2014-03-27 02:10:28 2014-03-27 02:10:28</span></span>
<span><span class="co">## 2            White-tailed Deer 2014-06-20 11:35:08 2014-06-20 11:35:08</span></span>
<span><span class="co">## 3                   Black Bear 2014-06-05 07:30:17 2014-06-05 07:33:38</span></span>
<span><span class="co">## 4                  Canada Lynx 2014-04-04 22:19:04 2014-04-04 22:20:04</span></span>
<span><span class="co">## 5                    Gray Wolf 2014-04-28 19:04:00 2014-04-28 19:06:57</span></span>
<span><span class="co">## 6 Grouse, Ptarmigan and allies 2014-03-25 13:39:12 2014-03-25 13:39:16</span></span>
<span><span class="co">##   total_duration_seconds n_images avg_animals_per_image max_animals</span></span>
<span><span class="co">## 1                      0        1                     1           1</span></span>
<span><span class="co">## 2                      0        1                     1           1</span></span>
<span><span class="co">## 3                    201        9                     1           1</span></span>
<span><span class="co">## 4                     60        9                     1           1</span></span>
<span><span class="co">## 5                    177       23                     1           1</span></span>
<span><span class="co">## 6                      4        3                     1           1</span></span></code></pre>
<p>So there are <strong>313</strong> independent detections in this data
set, when using a threshold of 30 minutes.</p>
<p>The output from <code><a href="../reference/wt_ind_detect.html">wt_ind_detect()</a></code> gave us some useful
information. But we probably need to do additional wrangling for our
data to be in the proper format for certain modeling techniques
(e.g. habitat modeling, occupancy). For example, we want to evaluate the
number of detections in a specified time interval (e.g. daily, weekly,
or monthly), <em>including zeroes</em>.</p>
<div class="section level2">
<h2 id="summarise-your-camera-data">Summarise your camera data<a class="anchor" aria-label="anchor" href="#summarise-your-camera-data"></a>
</h2>
<p>With <code><a href="../reference/wt_summarise_cam.html">wt_summarise_cam()</a></code> you can get:</p>
<ul>
<li>The output from <code><a href="../reference/wt_ind_detect.html">wt_ind_detect()</a></code> (e.g. the object
<code>eh14_detections</code>)</li>
<li>Your raw data (e.g. the object <code>eh14_raw</code>)</li>
<li>The time interval you’re interested in (e.g. weekly)</li>
<li>The variable you’re interested in (e.g. detections,
presence/absence)</li>
<li>The desired output format (‘wide’ or ‘long’)</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># A call to `wt_summarise_cam()`:</span></span>
<span></span>
<span><span class="va">eh14_summarised</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wt_summarise_cam.html">wt_summarise_cam</a></span><span class="op">(</span></span>
<span>  <span class="co"># Supply your detection data</span></span>
<span>  detect_data <span class="op">=</span> <span class="va">eh14_detections</span>,</span>
<span>  <span class="co"># Supply your raw image data</span></span>
<span>  raw_data <span class="op">=</span> <span class="va">eh14_raw</span>,</span>
<span>  <span class="co"># Now specify the time interval you're interested in </span></span>
<span>  time_interval <span class="op">=</span> <span class="st">"week"</span>,</span>
<span>  <span class="co"># What variable are you interested in?</span></span>
<span>  variable <span class="op">=</span> <span class="st">"detections"</span>,</span>
<span>  <span class="co"># Your desired output format (wide or long) </span></span>
<span>  output_format <span class="op">=</span> <span class="st">"wide"</span> </span>
<span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">eh14_summarised</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   project_id location year week n_days_effort Black Bear Canada Lynx Coyote</span></span>
<span><span class="co">## 1        205   509-NW 2014   13             7          0           0      0</span></span>
<span><span class="co">## 2        205   509-NW 2014   14             7          0           0      0</span></span>
<span><span class="co">## 3        205   509-NW 2014   15             7          0           0      0</span></span>
<span><span class="co">## 4        205   509-NW 2014   16             7          0           0      0</span></span>
<span><span class="co">## 5        205   509-NW 2014   17             7          0           0      0</span></span>
<span><span class="co">## 6        205   509-NW 2014   18             7          0           0      0</span></span>
<span><span class="co">##   Cranes, Rails, Coots Crow Deer Ducks, Swans, Geese Fisher Gray Jay Gray Wolf</span></span>
<span><span class="co">## 1                    0    0    0                   0      0        0         0</span></span>
<span><span class="co">## 2                    0    0    0                   0      0        0         0</span></span>
<span><span class="co">## 3                    0    0    0                   0      0        0         0</span></span>
<span><span class="co">## 4                    0    0    0                   0      0        0         0</span></span>
<span><span class="co">## 5                    0    0    0                   0      0        0         0</span></span>
<span><span class="co">## 6                    0    0    0                   0      0        0         0</span></span>
<span><span class="co">##   Grouse, Ptarmigan and allies Marten Moose Red Fox Red Squirrel Snowshoe Hare</span></span>
<span><span class="co">## 1                            0      0     0       0            0             1</span></span>
<span><span class="co">## 2                            0      0     0       0            0             1</span></span>
<span><span class="co">## 3                            0      0     0       0            0             0</span></span>
<span><span class="co">## 4                            0      0     0       0            0             0</span></span>
<span><span class="co">## 5                            0      0     0       0            0             0</span></span>
<span><span class="co">## 6                            0      0     0       0            0             0</span></span>
<span><span class="co">##   Songbird Unidentified White-tailed Deer</span></span>
<span><span class="co">## 1        0            0                 0</span></span>
<span><span class="co">## 2        0            0                 0</span></span>
<span><span class="co">## 3        0            0                 0</span></span>
<span><span class="co">## 4        0            0                 0</span></span>
<span><span class="co">## 5        0            0                 0</span></span>
<span><span class="co">## 6        0            0                 0</span></span></code></pre>
<p>And now you can get straight into the science!</p>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alex MacPhail, Marcus Becker, Elly Knight.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
